---
title: "Git workshop"
subtitle: "*Aj Ty v IT*"
author: "Tibor Stanko"
date: "*13.9.2022*"
format:
    revealjs: 
        mermaid-format: svg
        highlight-style: gruvbox-dark
        #highlight-style: gruvbox-light
        theme: [simple, slides.scss]
        width: 1500
        # height: 800
        number-sections: true
        number-depth: 1
        # preview-links: true
        # logo: logo.png
        # chalkboard: true
        toc: true
        toc-depth: 1
        toc-title: "Obsah"
        # footer: "Git workshop - 13.9.2022"
        center-title-slide: true
        code-line-numbers: false
        title-slide-attributes:
            data-background-image: img/hero.svg
            data-background-size: 50%
            data-background-position: bottom
            # footer: "."
        auto-animate-easing: ease-in-out
        auto-animate-unmatched: false
        auto-animate-duration: 0.8
---

# Ãšvod

## O mne 
:::: {.columns}

::: {.column width="72%"}
- [Tibor Stanko](https://tiborstanko.sk/), 31 rokov
- od 2020 dÃ¡tovÃ½ inÅ¾inier v Zurich Insurance, Bratislava ğŸ‡¸ğŸ‡°
- predtÃ½m 6 rokov v akademickej sfÃ©re vo ğŸ‡«ğŸ‡· (PhD, postdoc)
- rÃ¡d automatizujem nudnÃ© Ãºlohy s pomocou Pythonu ğŸ
- nie som Git guru, no Git pouÅ¾Ã­vam denne uÅ¾ viac ako 7 rokov
- moje voÄ¾noÄasovÃ© aktivity: ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ğŸš²â›°ï¸ğŸ¸ğŸ¹ğŸº
:::

::: {.column width="28%"}
![](img/tibors.jpg){.rounded-corners}
:::

::::

## O tomto workshope

## Anketa!

 <!-- SECTION - Git a Github -->

# Git a Github

## ÄŒo je to Git?

- **systÃ©m pre sprÃ¡vu verziÃ­**
- angl. *version control system* (VCS) alebo *source control management* (SCM)
- zaznamenÃ¡va histÃ³riu vÃ½voja projektu
- uÅ¾itoÄnÃ½ pre tÃ­my aj pre jednotlivcov
- nie je len o kÃ³de, dovoÄ¾uje ukladaÅ¥ Ä¾ubovoÄ¾nÃ© sÃºbory


## PreÄo potrebujeme systÃ©my na sprÃ¡vu verziÃ­?
![](img/how-not-to-name-files.png)

## PreÄo potrebujeme systÃ©my na sprÃ¡vu verziÃ­?
![](img/how-not-to-name-files-crossed.png)

## ÄŒo umoÅ¾Åˆuje Git?

<!-- ::: {.incremental} -->
- ukladaÅ¥ verzie
- prepÃ­naÅ¥ medzi verziami
- obnoviÅ¥ predoÅ¡lÃº verziu
- porovnÃ¡vaÅ¥ verzie
- vytvÃ¡raÅ¥ vetvy
- zluÄovaÅ¥ vetvy
<!-- - rieÅ¡iÅ¥ konflikty medzi vetvami -->
<!-- ::: -->

## Git slovnÃ­k

::: {.columns}

::: {.column width="50%" .git-slovnik}
| en | sk |
|---|---|
| *branch*              | vetva |
| *clone*               | naklonovanie repozitÃ¡ra |
| *commit*              | zÃ¡znam |
| *commit message*      | popis zÃ¡znamu |
| *conflict*            | konflikt medzi verziami |
| *conflict resolution* | rieÅ¡enie konfliktov |
| *diff*                | rozdiel medzi verziami |
| *merge*               | zlÃºÄenie vetiev |
:::

::: {.column width="50%" .git-slovnik}
| en | sk |
|---|---|
| *pull*                | stiahnutie *remote* zmien |
| *push*                | odoslanie lokÃ¡lnych zmien |
| *repository*          | repozitÃ¡r, ÃºloÅ¾isko |
| *remote*              | vzdialenÃ½ repozitÃ¡r |
| *snapshot*            | snÃ­mka |
| *staging area*        | prÃ­pravnÃ¡ oblasÅ¥ (tieÅ¾ *index*) |
| *status*              | stav repozitÃ¡ra |
| *version*             | verzia |
:::

:::

## ÄŒo je to Github?
- *"sociÃ¡lna sieÅ¥ pre programÃ¡torov"*
- **Git** = systÃ©m na sprÃ¡vu verziÃ­
- **Github** = cloudovÃ½ portÃ¡l na ukladanie repozitÃ¡rov
- pouÅ¾Ã­va Git, no nie je jeho sÃºÄasÅ¥ou
<!-- - portÃ¡l na ukladanie vzdialenÃ½ch Git repozitÃ¡rov -->
- obsahuje funkcionalitu ktorÃ¡ nie je v Gite
    - *Issues*, *Pull requests*, *Actions*, ...
- podobnÃ© sluÅ¾by: [Gitlab](https://about.gitlab.com/), [Bitbucket](https://bitbucket.org/), [Azure DevOps](https://dev.azure.com/), a inÃ©

## {background-image="img/github-screenshot.png" background-size="contain"}

# ZÃ¡klady Gitu
```{mermaid}
%%| fig-width: 6.5
%%{
    init: { 
        'logLevel': 'debug', 
        'theme': 'base', 
        'gitGraph': {
            'showCommitLabel': true, 
            'showBranches': true, 
            'mainBranchName': 'main'
        } 
    } 
}%%
    gitGraph
        checkout main
        commit id:"v1"
        commit id:"v2"
        commit id:"v3"
```


## Krok 0: Pracujeme s terminÃ¡lom

- Aby sme pochopili ako Git funguje, budeme na zaÄiatku spÃºÅ¡Å¥aÅ¥ Git prÃ­kazy cez **terminÃ¡l**
- NeskÃ´r si ukÃ¡Å¾eme aj pouÅ¾itie Gitu priamo v IDE (napr. vo VS Code)
- Vo **Windowse** odporÃºÄam [Windows Terminal](https://apps.microsoft.com/store/detail/windows-terminal/9N0DX20HK701?hl=en-us&gl=us) a PowerShell

. . .

::: {.fontsize-070}
- ZÃ¡kladnÃ© prÃ­kazy na navigÃ¡ciu v terminÃ¡li:
    - `pwd` --- vypÃ­Å¡ aktuÃ¡lny adresÃ¡r
    - `cd folder` --- zmeÅˆ aktuÃ¡lny adresÃ¡r na `folder`

```powershell
>> pwd                        # C:\Users\tibor.stanko
>> cd folder                  # C:\Users\tibor.stanko\folder
>> cd ..                      # C:\Users\tibor.stanko
>> cd C:\Users\janko.hrasko\  # C:\Users\janko.hrasko
>> cd ~                       # C:\Users\tibor.stanko
```

:::

## Krok 1: InÅ¡talÃ¡cia Gitu

- Vo **Windowse** existuje viacero spÃ´sobov ako nainÅ¡talovaÅ¥ Git, napr.
    - cez [klasickÃ½ inÅ¡talÃ¡tor](https://git-scm.com/download/win)
    - cez [scoop](https://scoop.sh/) (odporÃºÄam) --- v PowerShell spustite nasledovnÃ© prÃ­kazy:

::: {.fontsize-070}
```powershell
Set-ExecutionPolicy RemoteSigned -Scope CurrentUser
irm get.scoop.sh | iex # inÅ¡talÃ¡cia scoopu
scoop install git # inÅ¡talÃ¡cia gitu
```
:::

- **macOS** a **Linux**: inÅ¡trukcie na oficiÃ¡lnej strÃ¡nke [v angliÄtine](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git) alebo [v ÄeÅ¡tine](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git)

## Krok 2: Nastavenie Gitu {auto-animate="true"}

- Skontrolujme Äi je Git sprÃ¡vne nainÅ¡talovanÃ½:
```powershell
git --version
```

- PredtÃ½m ako zaÄneme pracovaÅ¥ s Gitom, je potrebnÃ© nastaviÅ¥ si meno a email. Tieto Ãºdaje bude Git pouÅ¾Ã­vaÅ¥ na priradenie autora k verzii.
```powershell
git config --global user.name "Tibor Stanko"
git config --global user.email "tibor.stanko@zurich.com"
```

- PredvolenÃº vetvu si nastavÃ­me na `main` (o [vetvÃ¡ch](#/vetvy-branches) si povieme viac neskÃ´r)
```powershell
git config --global init.defaultBranch "main"
```

## Krok 3: Vytvorenie Git repozitÃ¡ra

- Prepneme sa do adresÃ¡ra z ktorÃ©ho chceme spraviÅ¥ repozitÃ¡r:

```powershell
cd ~\awesome-project
```

- PrÃ­kaz `git init` slÃºÅ¾i na vytvorenie Git repozitÃ¡ra v aktuÃ¡lnom adresÃ¡ri:

```powershell
git init
```

- Po spustenÃ­ prÃ­kazu Git vypÃ­Å¡e:
```markdown
Initialized empty Git repository in C:/Users/tibor.stanko/awesome-project/.git/
```


## Krok 4: UloÅ¾enie verzie
- UloÅ¾enie verzie prebieha v dvoch krokoch

    1. Cez `git add` oznaÄÃ­me zmeny ktorÃ© majÃº byÅ¥ pridanÃ© do novej verzie
```powershell
git add awesome-function.py
```
    2. ZavolanÃ­m `git commit` vytvorÃ­me novÃº verziu
```powershell
git commit -m "pridal som awesome-function.py"
```

- AktuÃ¡lny stav repozitÃ¡ra mÃ´Å¾eme skontrolovaÅ¥ cez `git status` 
```powershell
git status # alebo `git status -s` pre skrÃ¡tenÃ½ vÃ½pis
```

::: {.notes}
NiektorÃ© systÃ©my na kontrolu verziÃ­ fungujÃº tak Å¾e vytvoria novÃº verziu zo vÅ¡etkÃ½ch aktuÃ¡lnych sÃºborov v repozitÃ¡ri. Tento spÃ´sob ukladania zÃ¡loh mÃ´Å¾e byÅ¥ nevÃ½hodnÃ½. PrÃ­kladom je situÃ¡cia keÄ sme v repozitÃ¡ri implementovali dve nezÃ¡vislÃ© funkcie, a chceme ich zachytiÅ¥ v dvoch rozdielnych verziÃ¡ch. V Gite preto existuje koncept prÃ­pravnej zÃ³ny (*staging area*), vÄaka ktorej mÃ¡me kontrolu nad tÃ½m ktorÃ© zmeny budÃº a ktorÃ© nebudÃº pridanÃ© do nasledujÃºcej verzie.

:::

## Ãšlohy
1. Vytvor si na svojom poÄÃ­taÄi prÃ¡zdny adresÃ¡r, napr. `git-workshop`
1. Sprav z adresÃ¡ra `git-workshop` Git repozitÃ¡r 
1. Vytvor v adresÃ¡ri sÃºbor (napr. `test.txt`) s Ä¾ubovoÄ¾nÃ½m obsahom
1. Pridaj `test.txt` do ÄalÅ¡ej verzie a uloÅ¾ ju

<!-- ## Krok 5: Git vo VS Code -->

# Vetvy *(branches)*

## ÄŒo je to vetva *(branch)* ?

- doteraz sme pracovali na vetve s nÃ¡zvom *main* (historickÃ½ nÃ¡zov *master*)


## NaÄo sÃº dobrÃ© vetvy?

## Vytvorenie vetvy *(branch)*
```powershell
git branch dog
git checkout dog
```

alebo

```powershell
git checkout -b dog
```

## ZluÄovanie vetiev *(merge)*

```powershell
git checkout main
git merge dog
```

## RieÅ¡enie *merge* konfliktov
```powershell
git merge cat
# (!)
# konflikt v animals.py:
# zmeny z oboch vetiev musia byÅ¥ 
# zlÃºÄenÃ© manuÃ¡lne (napr. vo VS Code)

# pridaj zmeny do ÄalÅ¡ej verzie
git add animals.py
# uloÅ¾ novÃº verziu su zlÃºÄenÃ½mi zmenami
git commit -m "merged dog and cat features"
```

# VzdialenÃ© repozitÃ¡re *(remote)*

## Vytvorenie repozitÃ¡ra na Githube

## Poslanie lokÃ¡lnej kÃ³pie na *remote*

```powershell
git push -u origin main
```

```powershell
PS C:\Users\tibor.stanko\repo> git push -u origin main
Enumerating objects: 3, done.
Counting objects: 100% (3/3), done.
Writing objects: 100% (3/3), 241 bytes | 120.00 KiB/s, done.
Total 3 (delta 0), reused 0 (delta 0), pack-reused 0
To https://github.com/bbrrck/test-repo-01.git
 * [new branch]      main -> main
branch 'main' set up to track 'origin/main'.
```

## Klonovanie existujÃºceho *remote* repozitÃ¡ra
```powershell
git clone https://github.com/bbrrck/animals.git
```

# PokroÄilÃ½ Git

## `git log`

## InteraktÃ­vne pridÃ¡vanie zmien
```powershell
git add --interactive # alebo `git add -i`
```

## `git blame`

# Markdown rÃ½chlokurz

# UÅ¾itoÄnÃ© zdroje

## DokumentÃ¡cia
- [OficiÃ¡lna strÃ¡nka](https://git-scm.com) a [dokumentÃ¡cia](https://git-scm.com/doc) Gitu
- [Pro Git](https://git-scm.com/book/en/v2), voÄ¾ne dostupnÃ¡ oficiÃ¡lna kniha, k dispozÃ­cii ÄiastoÄne aj [v ÄeÅ¡tine](https://git-scm.com/book/cs/v2)

## Kurzy & tutoriÃ¡ly

### sk
- videokurz od Yablka: [Git a Github od zÃ¡kladov](https://www.youtube.com/watch?v=0v5K4GvK4Gs)
- predmet *ZÃ¡klady softvÃ©rovÃ©ho inÅ¾inierstva* na FEI TUKE
    - ÄasÅ¥ 2: [SystÃ©my pre sprÃ¡vu verziÃ­](https://kurzy.kpi.fei.tuke.sk/zsi/labs/02-git.html)
    - ÄasÅ¥ 3: [PrÃ¡ca s vetvami v systÃ©me Git](https://kurzy.kpi.fei.tuke.sk/zsi/labs/03-git.html)

### en
- [git - the simple guide](https://rogerdudler.github.io/git-guide/)
- Coursera: [Introduction to Git and GitHub](https://www.coursera.org/learn/introduction-git-github/)
- Missing Semester of CS Education, [Lecture 6: Version Control (git)](https://www.youtube.com/watch?v=2sjqTHE0zok)
- [Learn how Git works internally with simple diagrams](https://medium.com/@praveenmuth2/learn-how-git-works-internally-with-simple-diagrams-a9349dc32831)
- [Atlassian Git tutorial](https://www.atlassian.com/git/tutorials)
