# Vzdialen√© repozit√°re *(remotes)*


## ƒåo je to vzdialen√Ω repozit√°r *(remote)?*
- Doteraz sme pracovali s **lok√°lnym** Git repozit√°rom ktor√Ω je ulo≈æen√Ω na na≈°om poƒç√≠taƒçi

- **Vzdialen√Ω repozit√°r** *(remote)* je ulo≈æen√Ω na Internete --- presnej≈°ie, na webovom serveri  
*napr. github.com, firemn√Ω server, univerzitn√Ω server, ...*

::: {.fragment}
- Existuj√∫ dva typy *remote* repozit√°rov:
    a. **verejn√Ω** *(public)* repozit√°r je zdieƒæan√Ω so v≈°etk√Ωmi pou≈æ√≠vateƒæmi s pr√≠stupom na server
    b. **s√∫kromn√Ω** *(private)* repozit√°r je zdieƒæan√Ω iba s vybran√Ωmi pou≈æ√≠vateƒæmi
:::


## Na ƒço sl√∫≈æia vzdialen√© repozit√°re?
1. **Z√°lohovanie** k√≥du
2. **Zdieƒæanie** k√≥du
3. **Synchroniz√°cia** k√≥du v t√≠me


<!-- SHUTTER: CREATE REPO -->

<!-- ## Vytvorenie repozit√°ra na Githube --- [github.com/new](https://github.com/new)  {auto-animate=true}
::: {data-id=create-repo .shutter style="background-image: url('./img/gh-new-repo/gh-new-full.png')"}
:::

## Vytvorenie repozit√°ra na Githube --- [github.com/new](https://github.com/new)  {auto-animate=true}
::: {data-id=create-repo .shutter style="background-image: url('./img/gh-new-repo/gh-new-full.png'); margin-top: -500px;"}
:::
::: {data-id=arrow .arrow-pointer .fragment .absolute left=1050 bottom=475}
‚Üê
:::


## Vytvorenie repozit√°ra na Githube --- [github.com/new](https://github.com/new)  {auto-animate=true}
::: {data-id=create-repo .shutter style="background-image: url('./img/gh-new-repo/gh-new-full.png'); margin-top: -500px;"}
:::
::: {data-id=arrow .arrow-pointer .absolute left=725 bottom=210}
‚Üê
:::


## Vytvorenie repozit√°ra na Githube --- [github.com/new](https://github.com/new)  {auto-animate=true}
::: {data-id=create-repo .shutter style="background-image: url('./img/gh-new-repo/gh-new-full.png'); margin-top: -500px;"}
:::
::: {data-id=arrow .arrow-pointer .absolute left=325 bottom=-70}
‚Üê
:::


## Vytvorenie repozit√°ra na Githube --- [github.com/new](https://github.com/new)  {auto-animate=true transition="fade" transition-speed="fast"}
::: {data-id=create-repo .shutter style="background-image: url('./img/gh-new-repo/gh-new-full.png'); margin-top: -1550px;"}
:::
::: {data-id=arrow .arrow-pointer .absolute left=450 bottom=-130}
‚Üê
::: -->

## Vytvorenie repozit√°ra na Githube --- [github.com/new](https://github.com/new)
::: {.screenshot}
![](./img/gh-new-repo/gh-new-full.png)
:::


## Vytvorenie repozit√°ra na Githube --- [github.com/new](https://github.com/new)
::: {.screenshot}
![](./img/gh-new-repo/gh-new-top.png)
:::


## Vytvorenie repozit√°ra na Githube --- [github.com/new](https://github.com/new)
::: {.screenshot}
![](./img/gh-new-repo/gh-new-bottom.png)
:::

<!-- SHUTTER: EMPTY REPO -->

<!-- ## {auto-animate=true transition="fade" transition-speed="fast"}
::: {data-id=shNewEmptyRepo .shutter style="margin-top: 0px; background-image: url('./img/gh-new-repo/gh-new-empty-repo.png')"}
:::


## {auto-animate=true}
::: {data-id=shNewEmptyRepo .shutter style="margin-top: -400px; background-image: url('./img/gh-new-repo/gh-new-empty-repo.png')"}
:::

::: {.fragment .absolute left=65 bottom=172 style="width: 800px; height: 160px; border: 10px solid red; border-radius: 5px;"}
::: -->


## Vytvorenie repozit√°ra na Githube --- [github.com/new](https://github.com/new)
::: {.screenshot}
![](./img/gh-new-repo/gh-new-empty-repo.png)
:::


## Vytvorenie repozit√°ra na Githube --- [github.com/new](https://github.com/new)
::: {.screenshot}
![](./img/gh-new-repo/gh-new-empty-repo-circled.png)
:::



## Nastavenie *remote* v lok√°lnom repozit√°ri 

- Na nastavenie vzdialen√©ho repozit√°ra pou≈æijeme pr√≠kaz `git remote add <name> <url>`:
```zsh
git remote add origin https://github.com/bbrrck/zoo.git
```
- `name` bude Git pou≈æ√≠va≈• ako meno vzdialen√©ho repozit√°ra na adrese `url`. Meno m√¥≈æe by≈• ƒæubovoƒæn√©; be≈æne sa stretneme s menom `origin`.
- Lok√°lny repozit√°r m√¥≈æe ma≈• priraden√Ω aj viac ako jeden *remote*.


## Poslanie lok√°lnej k√≥pie na *remote*
- Pr√≠kaz `git push <remote> <branch>` "pretlaƒç√≠" lok√°lne zmeny z vetvy `branch` do vzdialen√©ho repozit√°ra `remote`:
```zsh
git push origin main
```
- Pri prvom zavolan√≠ `git push` je potrebn√© prida≈• argument `-u`:
```zsh
git push -u origin main
```
- `-u` alebo `--set-upstream` nastav√≠ predvolen√∫ *remote* vetvu (`origin/main`) pre aktu√°lnu lok√°lnu vetvu (`main`) 

- ak *remote* vetva `origin/main` neexistuje, `git push` ju automaticky vytvor√≠

## Pr√≠klad v√Ωstupu z `git push`
```zsh
git push -u origin main
```

- V√Ωstup:
```zsh
Enumerating objects: 3, done.
Counting objects: 100% (3/3), done.
Writing objects: 100% (3/3), 241 bytes | 120.00 KiB/s, done.
Total 3 (delta 0), reused 0 (delta 0), pack-reused 0
To https://github.com/bbrrck/test-repo-01.git
 * [new branch]      main -> main
branch 'main' set up to track 'origin/main'.
```


## Odboƒçka: prihl√°senie do Githubu

- Aby mohol Git posiela≈• d√°ta na Github, je potrebn√° autentifik√°cia
- Najjednoduch≈°√≠ sp√¥sob na spr√°vu prihlasovac√≠ch udajov: [Git Credential Manager](https://github.com/GitCredentialManager/git-credential-manager)  
(je s√∫ƒças≈•ou [Git for Windows](https://gitforwindows.org/))
- Konfigur√°cia sa zaƒçne automaticky po prvom spusten√≠ `git push`

::: {.columns}
::: {.column width=30%}
![](img/gh-win-auth/credential-helper-selector-v2.png){.gh-win-auth}
:::
::: {.column width=25%}
![](img/gh-win-auth/auth-signin.png){.gh-win-auth}
:::
::: {.column width=20%}
![](img/gh-win-auth/auth-confirm.png){.gh-win-auth}
:::
::: {.column width=25%}
![](img/gh-win-auth/auth-success.png){.gh-win-auth style="height:200px"}
:::
:::


## Zoznam vetiev
- `git branch -a` vyp√≠≈°e zoznam v≈°etk√Ωch vetiev, lok√°lnych aj vzdialen√Ωch
- `-a` je skratka pre `--all`
```zsh
git branch -a
```
- V√Ωstup --- `*` oznaƒçuje aktu√°lnu vetvu:
```js
* main
  tiger
  remotes/origin/main
```


## Konflikt: *remote* zmeny neexistuj√∫ lok√°lne
```zsh
To https://github.com/bbrrck/zoo.git
 ! [rejected]        main -> main (fetch first)
error: failed to push some refs to 'https://github.com/bbrrck/zoo.git'
hint: Updates were rejected because the remote contains work that you do
hint: not have locally. This is usually caused by another repository pushing
hint: to the same ref. You may want to first integrate the remote changes
hint: (e.g., 'git pull ...') before pushing again.
hint: See the 'Note about fast-forwards' in 'git push --help' for details.
```


## Stiahnutie *remote* zmien do lok√°lnej vetvy
- Pomocou pr√≠kazu `git fetch` stiahneme zoznam zmien z *remote* vetvy:
```zsh
git fetch
```
- Zmeny ktor√© nie s√∫ s√∫ƒças≈•ou lok√°lnej vetvy zl√∫ƒçime pomocou `git merge`:
```zsh
git merge # bez argumentov
```
- Vo v√§ƒç≈°ine pr√≠padov m√¥≈æeme jednoducho zavola≈• pr√≠kaz `git pull`, ktor√Ω je kombin√°ciou `git fetch` a `git merge`:
```zsh
git pull
```


## Klonovanie existuj√∫ceho *remote* repozit√°ra

- Existuj√∫ci vzdialen√Ω repozit√°r m√¥≈æeme naklonova≈• pomocou `git clone`:
```zsh
git clone <remote_url> <local_folder>
```
- Tento pr√≠kaz vytvor√≠ k√≥piu repozit√°ra z `remote_url` v adres√°ri `local_folder`
- Pr√≠klad:
```zsh
git clone https://github.com/bbrrck/zoo.git myzoo
# alebo
git clone https://github.com/bbrrck/zoo.git # naklonuje sa do adres√°ra `zoo`
```


## √ölohy (3) {.exercise #exercise-3-remotes}

::: {.fontsize-090 }
1. Vytvor si na Githube repo s n√°zvom `zoo`
1. Pridaj tento *remote* do svojho lok√°lneho repa
1. Nahraj lok√°lnu vetvu `main` na *remote*
1. Na Githube pridaj do s√∫boru `zoo.txt` za meno ka≈æd√©ho zviera≈•a jeho emoji: üêºüêòüêØü¶í
1. Zosynchronizuj lok√°lne repo s Githubom
1. Na Githube pridaj do s√∫boru `zoo.txt` nov√Ω riadok `krokod√≠l üêä` a ulo≈æ nov√∫ verziu
1. V lok√°lnom repe pridaj do s√∫boru `zoo.txt` nov√Ω riadok `gorila ü¶ç` a ulo≈æ nov√∫ verziu
1. Zosynchronizuj lok√°lne repo s Githubom a vyrie≈° vzniknut√Ω *merge conflict*
:::
